<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Web 前端开发]]></title>
  <link href="http://windyGex.github.io/atom.xml" rel="self"/>
  <link href="http://windyGex.github.io/"/>
  <updated>2014-01-23T14:44:06+08:00</updated>
  <id>http://windyGex.github.io/</id>
  <author>
    <name><![CDATA[蓝面小生]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[关于JavaScript数组的一点小技巧]]></title>
    <link href="http://windyGex.github.io/blog/guan-yu-javascriptshu-zu-de-xiang-guan-zhi-shi/"/>
    <updated>2014-01-23T13:44:05+08:00</updated>
    <id>http://windyGex.github.io/blog/guan-yu-javascriptshu-zu-de-xiang-guan-zhi-shi</id>
    <content type="html"><![CDATA[<h2>创建和判断</h2>

<p>在JavaScript创建一个数组非常简单,就像下面一样</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">purchaseList</span> <span class="o">=</span> <span class="p">[]</span>
</span></code></pre></td></tr></table></div></figure>


<p>但是判断起来却稍微有点麻烦，不过没关系，现在大家都已经知道了这个差别</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="k">typeof</span> <span class="nx">purchaseList</span> <span class="o">===</span> <span class="s1">&#39;array&#39;</span> <span class="c1">// false</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//使用下面的方式</span>
</span><span class='line'>
</span><span class='line'><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">purchaseList</span><span class="p">)</span> <span class="o">===</span> <span class="s1">&#39;[object Array]&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>使用map和filter映射和查询数组</h2>

<h3><code>map</code></h3>

<p>该方法返回一个新的数组</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">// 不使用map</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">purchaseList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
</span><span class='line'>  <span class="nx">otherList</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class='line'>
</span><span class='line'><span class="nx">purchaseList</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">){</span>
</span><span class='line'>   <span class="nx">otherList</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">item</span> <span class="o">+</span> <span class="mi">2</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 使用map</span>
</span><span class='line'>
</span><span class='line'><span class="nx">otherList</span> <span class="o">=</span> <span class="nx">purchaseList</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">){</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">item</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<h3><code>filter</code></h3>

<p>该方法用于过滤数组</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">// 不使用filter</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">purchaseList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
</span><span class='line'>  <span class="nx">otherList</span> <span class="o">=</span> <span class="p">[],</span>
</span><span class='line'>  <span class="nx">condition</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span><span class="nx">index</span><span class="p">){</span>
</span><span class='line'>      <span class="k">return</span> <span class="nx">item</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>
</span><span class='line'><span class="nx">purchaseList</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span><span class="nx">index</span><span class="p">){</span>
</span><span class='line'>   <span class="k">if</span><span class="p">(</span><span class="nx">condition</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span><span class="nx">index</span><span class="p">)){</span>
</span><span class='line'>        <span class="nx">otherList</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
</span><span class='line'>   <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 使用filter</span>
</span><span class='line'>
</span><span class='line'><span class="nx">otherList</span> <span class="o">=</span> <span class="nx">purchaseList</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">condition</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<h2>使用数组实现栈和队列</h2>

<h3><code>push</code> 和 <code>pop</code></h3>

<p>push操作相当于压栈，pop则相当于出栈。后进先出栈</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">Stack</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">_stack</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="c1">//入栈</span>
</span><span class='line'><span class="nx">Stack</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">put</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">[].</span><span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_stack</span><span class="p">,</span><span class="nx">arguments</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="c1">//出栈</span>
</span><span class='line'><span class="nx">Stack</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">next</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_stack</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="c1">//获取堆栈元素个数</span>
</span><span class='line'><span class="nx">Stack</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">size</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_stack</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">stack</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Stack</span><span class="p">(),</span><span class="nx">current</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">stack</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
</span><span class='line'><span class="c1">//遍历</span>
</span><span class='line'><span class="k">while</span><span class="p">(</span><span class="nx">current</span> <span class="o">=</span> <span class="nx">stack</span><span class="p">.</span><span class="nx">next</span><span class="p">()){</span>
</span><span class='line'>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">current</span><span class="p">);</span> <span class="c1">// 3,2,1</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3><code>push</code> 和 <code>shift</code></h3>

<p>先进先出队列</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">Queue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">_q</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="c1">//入列</span>
</span><span class='line'><span class="nx">Queue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">push</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>  <span class="k">return</span> <span class="p">[].</span><span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_q</span><span class="p">,</span><span class="nx">arguments</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="c1">//出列</span>
</span><span class='line'><span class="nx">Queue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">next</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_q</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Queue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">size</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_q</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Queue</span><span class="p">(),</span><span class="nx">current</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">queue</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="k">while</span><span class="p">(</span><span class="nx">current</span> <span class="o">=</span> <span class="nx">queue</span><span class="p">.</span><span class="nx">next</span><span class="p">()){</span>
</span><span class='line'>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">current</span><span class="p">);</span> <span class="c1">// 1,2,3</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[使用Auto Sprites自动合并图片]]></title>
    <link href="http://windyGex.github.io/blog/shi-yong-auto-spriteszi-dong-he-bing-tu-pian/"/>
    <updated>2014-01-21T16:00:50+08:00</updated>
    <id>http://windyGex.github.io/blog/shi-yong-auto-spriteszi-dong-he-bing-tu-pian</id>
    <content type="html"><![CDATA[<p>Auto Sprites是我在国际站开发的用于自动合并CSS图片的工具，原本计划部署在服务器端进行自动合并和实时合并，但是因为服务器代码确保稳定性，迭代
的周期过慢，所以先释出线下版本。</p>

<h2>特性：</h2>

<p>支持四种合并方式，智能判断合并方式</p>

<h2>CSS 书写要求：</h2>

<p>由于无法解析组合类，所以要求引用的图片和样式写在一个选择器里面，无法找到的图片将被忽略.</p>

<!-- more -->


<p>例如下面的写法将导致解析<strong>错误</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'>  <span class="nc">.icon</span><span class="p">{</span>
</span><span class='line'>      <span class="k">background</span><span class="o">:</span><span class="sx">url(/images/icon.png)</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="nc">.icon-add</span><span class="p">{</span>
</span><span class='line'>      <span class="k">background-position</span><span class="o">:-</span><span class="m">10px</span> <span class="m">-10px</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>正确的书写方式</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'>  <span class="nc">.icon-add</span><span class="p">{</span>
</span><span class='line'>      <span class="k">background</span><span class="o">:</span><span class="sx">url(/images/icon-add.png)</span> <span class="k">no-repeat</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="nc">.icon-del</span><span class="p">{</span>
</span><span class='line'>      <span class="k">background</span><span class="o">:</span><span class="sx">url(/images/icon-del.png)</span> <span class="k">no-repeat</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>使用方式：</h2>

<h3>使用npm安装Auto Sprites</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'>   <span class="nx">npm</span> <span class="nx">install</span> <span class="nx">auto</span><span class="o">-</span><span class="nx">sprites</span> <span class="o">-</span><span class="nx">g</span>
</span></code></pre></td></tr></table></div></figure>


<h3>编译CSS文件</h3>

<blockquote><p>指定source和target的时候需要使用相对于root的绝对路径</p></blockquote>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'>   <span class="nx">sprites</span> <span class="o">&lt;</span><span class="nx">root</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">source</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">target</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">sprites</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">base64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">level</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h4><code>root</code></h4>

<p>文件存放的根目录，比如 htdocs</p>

<h4><code>source</code></h4>

<p>指定编译的文件夹，比如<code>/css</code></p>

<h4><code>target</code></h4>

<p>指定编译后文件存放的位置 比如<code>/css-target</code></p>

<h4><code>sprites</code></h4>

<p>指定图片文件存放的位置, 比如<code>/simg</code></p>

<h4><code>base64</code></h4>

<p>是否启用base64编码</p>

<h4><code>level</code></h4>

<p>以文件或者文件夹的维度合并图片,默认值为<code>file</code></p>

<h2>Bug 反馈</h2>

<p><a target="_blank" href="https://github.com/windyGex/auto-sprites/issues">Github Issues</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[写在2014初]]></title>
    <link href="http://windyGex.github.io/blog/xie-zai-2014chu/"/>
    <updated>2014-01-13T20:13:31+08:00</updated>
    <id>http://windyGex.github.io/blog/xie-zai-2014chu</id>
    <content type="html"><![CDATA[<p>博客停滞了很久，一直在为空间的事情苦恼，嫌备案麻烦，于是折腾了很久，终于决定使用github托管好了。</p>

<p>说说2014年的计划好了，2014年有很多要去做到极致的事情，尤其是在我2013年里专注的事情上面。</p>

<!-- more -->


<ul>
<li><p>SimpleUI</p>

<p>  SimpleUI是我从2011年开始维护的项目，后来由于所在公司使用Arale的缘故，考虑到在设计思路上的相似性，就再也没有花精力在上面，2014年有了更多的好的想法会在上面慢慢优化。</p></li>
<li><p>Sniper</p>

<p>  这个是我自己在项目里使用的MVC Framework，也有很多优化的地方，也有很多需要分享给大家的地方，比如    嵌套视图，缓存策略，还有层叠事件模型等。</p></li>
<li><p>Unicorn</p>

<p>  这个是我和同事一直持续维护的基于NodeJS的前端静态资源管理方案也要做好对外开源的准备，这套方案目前已经比较成熟，目前已经应用在Alibaba国际事业部</p></li>
</ul>


<p>总之2014，我的本命年，我要大干一场。</p>
]]></content>
  </entry>
  
</feed>
